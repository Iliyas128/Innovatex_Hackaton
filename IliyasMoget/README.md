# üîç Document Detection System

–°–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏ QR-–∫–æ–¥–æ–≤, –ø–æ–¥–ø–∏—Å–µ–π –∏ –ø–µ—á–∞—Ç–µ–π –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º YOLOv5. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ PDF-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [–û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏](#-–æ–±—É—á–µ–Ω–∏–µ-–º–æ–¥–µ–ª–∏)
- [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#-—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîµ **–î–µ—Ç–µ–∫—Ü–∏—è –ø–æ–¥–ø–∏—Å–µ–π** (signature) - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ä—É–∫–æ–ø–∏—Å–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–µ–π
- üî¥ **–î–µ—Ç–µ–∫—Ü–∏—è –ø–µ—á–∞—Ç–µ–π** (stamp) - —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ø–µ—á–∞—Ç–µ–π –∏ —à—Ç–∞–º–ø–æ–≤
- üü¢ **–î–µ—Ç–µ–∫—Ü–∏—è QR-–∫–æ–¥–æ–≤** (qr) - –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ QR-–∫–æ–¥–æ–≤
- üìÑ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ PDF** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã—Ö PDF-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- üñºÔ∏è **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - JPG, PNG —Ñ–æ—Ä–º–∞—Ç—ã
- üåê **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - —É–¥–æ–±–Ω—ã–π Streamlit –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üì¶ **–ë–∞—Ç—á-–æ–±—Ä–∞–±–æ—Ç–∫–∞** - –º–∞—Å—Å–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- üìä **–≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** - JSON —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏

---

## üíª –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–°**: Windows 10+, Linux, macOS
- **Python**: 3.8 –∏–ª–∏ –≤—ã—à–µ
- **RAM**: –º–∏–Ω–∏–º—É–º 4 GB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 8 GB)
- **–î–∏—Å–∫**: –º–∏–Ω–∏–º—É–º 2 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **GPU**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è CUDA)

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- PyTorch 2.0+
- CUDA Toolkit (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è GPU)
- Git (–¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è YOLOv5)

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository_url>
cd IliyasMoget
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

#### –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

**QR Detection:**
- `qreader>=3.14` - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ QR-–∫–æ–¥–æ–≤
- `opencv-python>=4.8.0` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `numpy>=1.24.0` - —á–∏—Å–ª–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- `pyzbar>=0.1.9` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —à—Ç—Ä–∏—Ö-–∫–æ–¥–æ–≤

**YOLOv5 –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–µ–π –∏ –ø–µ—á–∞—Ç–µ–π:**
- `torch>=2.0.0` - PyTorch —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- `torchvision>=0.15.0` - –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è PyTorch
- `ultralytics>=8.0.0` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ YOLO –º–æ–¥–µ–ª–µ–π

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:**
- `Pillow>=10.0.0` - —Ä–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- `matplotlib>=3.7.0` - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

**–û–±—É—á–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ PDF:**
- `PyMuPDF>=1.23.0` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è PDF –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `PyYAML>=6.0` - —Ä–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏
- `tqdm>=4.65.0` - –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã
- `pandas>=2.0.0` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

**–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
- `streamlit>=1.28.0` - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –æ—Ç–¥–µ–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ YOLOv5

```bash
git clone https://github.com/ultralytics/yolov5
cd yolov5
pip install -r requirements.txt
cd ..
```

**–í–∞–∂–Ω–æ**: YOLOv5 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω –≤ —Ç—É –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø—Ä–æ–µ–∫—Ç, –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω –≤ PATH.

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
python -c "import torch; import cv2; import qreader; print('–í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!')"
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

```bash
python test_custom_model.py test_documents/sample004.jpg
```

–†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ `output/custom_model_sample004.jpg`

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
============================================================
–¢–ï–°–¢ –ö–ê–°–¢–û–ú–ù–û–ô –ú–û–î–ï–õ–ò
============================================================
–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: test_documents/sample004.jpg
–ú–æ–¥–µ–ª—å: models/custom_detector.pt
–†–∞–∑–º–µ—Ä: 2480x3509

–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏...
‚úì –ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∑–∞ 1.23s

–î–µ—Ç–µ–∫—Ü–∏—è...
‚úì –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ: output/custom_model_sample004.jpg
```

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```bash
pip install streamlit
python -m streamlit run app.py
```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä –Ω–∞ `http://localhost:8501`
<img width="844" height="765" alt="image" src="https://github.com/user-attachments/assets/855d749c-4c32-4dc0-a426-49d50b56d386" />
<img width="1354" height="390" alt="image" src="https://github.com/user-attachments/assets/3a107e61-c8b6-4206-8bef-bb2c25e7ef1a" />



**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:**
- üì§ –ó–∞–≥—Ä—É–∑–∫–∞ PDF –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
- üé® –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ë–∞—Ç—á-–æ–±—Ä–∞–±–æ—Ç–∫–∞

```bash
python batch_process.py testData
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏: `output/batch_*.jpg`
- JSON —Å –¥–∞–Ω–Ω—ã–º–∏: `output/batch_results.json`

**–§–æ—Ä–º–∞—Ç JSON:**
```json
{
  "stats": {
    "signature": 10,
    "stamp": 8,
    "qr": 5,
    "total_files": 5,
    "total_detections": 23
  },
  "results": [
    {
      "image": "path/to/image.jpg",
      "size": {"width": 2480, "height": 3509},
      "detections": [
        {
          "class": "signature",
          "confidence": 0.87,
          "bbox": {"x": 100, "y": 200, "width": 300, "height": 80}
        }
      ]
    }
  ]
}
```

---

## üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–µ—Ç–µ–∫—Ü–∏—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

```bash
python test_custom_model.py <–ø—É—Ç—å_–∫_–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é> [–ø—É—Ç—å_–∫_–º–æ–¥–µ–ª–∏]
```

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
python test_custom_model.py test_documents/sample004.jpg
python test_custom_model.py test_documents/sample004.jpg models/custom_detector.pt
```

### –î–µ—Ç–µ–∫—Ü–∏—è —Ç–æ–ª—å–∫–æ QR-–∫–æ–¥–æ–≤

```bash
python test_qr.py <–ø—É—Ç—å_–∫_–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é>
```

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É `qreader` (YOLOv8-based), –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏.

### –î–µ—Ç–µ–∫—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø–æ–¥–ø–∏—Å–µ–π

```bash
python test_signature.py <–ø—É—Ç—å_–∫_–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é> [–ø—É—Ç—å_–∫_–º–æ–¥–µ–ª–∏]
```

### –î–µ—Ç–µ–∫—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø–µ—á–∞—Ç–µ–π

```bash
python test_stamp.py <–ø—É—Ç—å_–∫_–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é> [–ø—É—Ç—å_–∫_–º–æ–¥–µ–ª–∏]
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

```bash
python process_pdfs.py <–ø—É—Ç—å_–∫_pdf_—Ñ–∞–π–ª—É>
```

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∏—Ä–∏–ª–ª–∏—Ü—É –≤ –∏–º–µ–Ω–∞—Ö —Ñ–∞–π–ª–æ–≤.

---

## üéì –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å:
- PDF —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ `datasets/selected_output/pdfs/`
- –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤ —Ñ–∞–π–ª–µ `datasets/selected_output/selected_annotations.json`

–§–æ—Ä–º–∞—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π:
```json
{
  "file1.pdf": [
    {
      "category": "signature",
      "bbox": [x, y, width, height],
      "page": 1
    }
  ]
}
```

–ó–∞–ø—É—Å–∫ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏:
```bash
python prepare_dataset.py
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç YOLO –¥–∞—Ç–∞—Å–µ—Ç –≤ `datasets/yolo_dataset/` —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:
```
yolo_dataset/
‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îú‚îÄ‚îÄ train/
‚îÇ   ‚îî‚îÄ‚îÄ val/
‚îú‚îÄ‚îÄ labels/
‚îÇ   ‚îú‚îÄ‚îÄ train/
‚îÇ   ‚îî‚îÄ‚îÄ val/
‚îî‚îÄ‚îÄ data.yaml
```

### 2. –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

```bash
python train_yolo.py
```

–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º:
- `1` - –ë—ã—Å—Ç—Ä—ã–π (30 —ç–ø–æ—Ö, ~30-60 –º–∏–Ω—É—Ç)
- `2` - –°—Ä–µ–¥–Ω–∏–π (50 —ç–ø–æ—Ö, ~60-90 –º–∏–Ω—É—Ç) ‚Üê **—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**
- `3` - –ü–æ–ª–Ω—ã–π (100 —ç–ø–æ—Ö, ~120-180 –º–∏–Ω—É—Ç)

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –æ–±—É—á–µ–Ω–∏—è:**
- –ú–∏–Ω–∏–º—É–º 4 GB RAM
- GPU —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è (CUDA)
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ –¥–ª—è –ª–æ–≥–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—É—á–µ–Ω–∏—è:**
- –ú–æ–¥–µ–ª—å: `models/custom_detector.pt`
- –ì—Ä–∞—Ñ–∏–∫–∏: `runs/train/signature_stamp_detector/`
- –ú–µ—Ç—Ä–∏–∫–∏: precision, recall, mAP

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏

```bash
python test_custom_model.py test_documents/sample004.jpg
```

---

## üö® –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ú–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

**–ü—Ä–æ–±–ª–µ–º–∞**: `FileNotFoundError: models/custom_detector.pt`

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û–±—É—á—å—Ç–µ –º–æ–¥–µ–ª—å
python prepare_dataset.py
python train_yolo.py
```

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

**–ü—Ä–æ–±–ª–µ–º–∞**: –î–µ—Ç–µ–∫—Ü–∏—è –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

**–†–µ—à–µ–Ω–∏—è:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ GPU –≤–µ—Ä—Å–∏—é PyTorch:
```bash
# CUDA 11.8
pip install torch torchvision --index-url https://download.pytorch.org/whl/cu118
```

2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ CUDA —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
python -c "import torch; print(torch.cuda.is_available())"
```

3. –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π

### –û—à–∏–±–∫–∏ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ

**–ü—Ä–æ–±–ª–µ–º–∞**: `ModuleNotFoundError: No module named 'X'`

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–∞–∫–µ—Ç
pip install <package_name>
```

### YOLOv5 –Ω–µ –Ω–∞–π–¥–µ–Ω

**–ü—Ä–æ–±–ª–µ–º–∞**: `ModuleNotFoundError: No module named 'yolov5'`

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ YOLOv5
git clone https://github.com/ultralytics/yolov5
cd yolov5
pip install -r requirements.txt
```

### –ù–∏–∑–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –¥–µ—Ç–µ–∫—Ü–∏–∏

**–†–µ—à–µ–Ω–∏—è:**
1. –£–º–µ–Ω—å—à–∏—Ç–µ –ø–æ—Ä–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏:
```python
model.conf = 0.15  # –≤–º–µ—Å—Ç–æ 0.25
```

2. –ü–µ—Ä–µ–æ–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å –Ω–∞ –±–æ–ª—å—à–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —ç–ø–æ—Ö

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –≤—Ö–æ–¥–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ, –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å)

### –û—à–∏–±–∫–∏ —Å –∫–∏—Ä–∏–ª–ª–∏—Ü–µ–π –≤ –ø—É—Ç—è—Ö

**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ñ–∞–π–ª–æ–≤ —Å –∫–∏—Ä–∏–ª–ª–∏—Ü–µ–π

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Python 3.8+ –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç UTF-8

### –ü—Ä–æ–±–ª–µ–º—ã —Å PDF

**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ –ø—Ä–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ PDF

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PyMuPDF
pip install --upgrade PyMuPDF
```

---

## üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
IliyasMoget/
‚îú‚îÄ‚îÄ app.py                      # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Streamlit)
‚îú‚îÄ‚îÄ test_custom_model.py        # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ batch_process.py            # –ë–∞—Ç—á-–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ process_pdfs.py             # –û–±—Ä–∞–±–æ—Ç–∫–∞ PDF —Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ test_qr.py                  # –î–µ—Ç–µ–∫—Ü–∏—è QR-–∫–æ–¥–æ–≤
‚îú‚îÄ‚îÄ test_signature.py           # –î–µ—Ç–µ–∫—Ü–∏—è –ø–æ–¥–ø–∏—Å–µ–π
‚îú‚îÄ‚îÄ test_stamp.py               # –î–µ—Ç–µ–∫—Ü–∏—è –ø–µ—á–∞—Ç–µ–π
‚îú‚îÄ‚îÄ prepare_dataset.py          # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ train_yolo.py               # –û–±—É—á–µ–Ω–∏–µ YOLOv5 –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ requirements.txt            # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ models/                     # –û–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ custom_detector.pt      # –û–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å (3 –∫–ª–∞—Å—Å–∞)
‚îú‚îÄ‚îÄ datasets/                   # –î–∞—Ç–∞—Å–µ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ selected_output/        # –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ yolo_dataset/           # –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–π YOLO –¥–∞—Ç–∞—Å–µ—Ç
‚îú‚îÄ‚îÄ test_documents/             # –¢–µ—Å—Ç–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ output/                     # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–µ—Ç–µ–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ batch_*.jpg             # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ batch_results.json      # JSON —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
‚îî‚îÄ‚îÄ yolov5/                     # YOLOv5 —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–∫–ª–æ–Ω–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ)
```

---

## üìä –ú–æ–¥–µ–ª—å

### –û–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å: `models/custom_detector.pt`

**–ö–ª–∞—Å—Å—ã:**
- `signature` (0) - –ø–æ–¥–ø–∏—Å–∏
- `stamp` (1) - –ø–µ—á–∞—Ç–∏
- `qr` (2) - QR-–∫–æ–¥—ã

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: YOLOv5s
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö: –¥–æ 640x640 (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã bbox (x, y, width, height), confidence score, class name

**–°–∫–æ—Ä–æ—Å—Ç—å:**
- CPU: 1.5-2.5 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- GPU: 0.3-0.5 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

---

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏

–í —Å–∫—Ä–∏–ø—Ç–∞—Ö –∏–ª–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:
```python
model.conf = 0.25  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
model.conf = 0.15  # –ë–æ–ª–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è
model.conf = 0.50  # –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏

–í –∫–æ–¥–µ –º–æ–¥–µ–ª–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:
```python
model.imgsz = 640  # –†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏
```

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è —Ö–∞–∫–∞—Ç–æ–Ω–∞. –°–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ.

---

## üë• –ê–≤—Ç–æ—Ä—ã

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è —Ö–∞–∫–∞—Ç–æ–Ω–∞.

---

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- [YOLOv5](https://github.com/ultralytics/yolov5) - –¥–µ—Ç–µ–∫—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
- [QReader](https://github.com/Eric-Canas/qreader) - –¥–µ—Ç–µ–∫—Ü–∏—è QR-–∫–æ–¥–æ–≤
- [Streamlit](https://streamlit.io/) - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**
